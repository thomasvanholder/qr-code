<div class="container mx-auto py-10">

  <h1 class="mx-auto text-center text-2xl">QR Code Generator</h1>

  <%= form_with model: @restaurant, class: "" do |form| %>


    <div class="grid grid-cols-2 gap-4 mt-20" data-controller="form">
      <div  class="mx-32 text-left">

        <!-- RESTAURANT  -->
        <h1 class="text-xl">1. Add Restaurant</h1>
        <hr class="my-3 w-full">
        <%= render 'add_restaurant', form: form  %>


        <!-- CATEGORY  -->
        <h1 class="text-xl">2. Add Categories</h1>
        <hr class="my-3 w-full">

        <div data-target="form.template_wrapper">

        <!-- template - CATEGORY INPUT field  -->
          <template data-target="form.template_category_field">
            <%= form.fields_for :categories, Category.new, child_index: 'NEW_CATEGORY' do |category|%>
              <%= render "category_fields", form: category %>
              <!-- template - ITEM INPUT field  -->
              <template data-target="form.template_item_field">
                <%= category.fields_for :items, Item.new, child_index: 'NEW_MENU_ITEM' do |item| %>
                  <%= render "item_fields", form: item %>
                <% end %>
              </template>
            <% end %>
          </template>

          <div data-target="form.links_category">
            <%= button_tag "Add Category", type: 'button',class:"text-link", data: { action: "click->form#add_category", index:"1" } %>
          </div>
        </div>

        <!-- template - CATEGORY PRINT TAB    -->
        <template data-target="form.template_tab_print">
          <li class="mr-1" data-target="tabs.tab" data-action="click->tabs#change">
            <a class="bg-white inline-block py-2 px-4 text-blue-500 hover:text-blue-800 font-semibold" href="#" id="tab-NEW_CATEGORY">Lunch</a>
          </li>
        </template>


        <!-- MENU ITEMS  -->
        <h1 class="text-xl mt-5">3. Add Menu Items</h1>
        <hr class="my-3 w-full">

        <!-- template - PANEL - MENU ITEMS    -->
        <template data-target="form.template_panel_print">
          <div class="hidden py-4 px-4 border-l border-b border-r" data-target="tabs.panel">
            <div id="link-NEW_CATEGORY">
              <%= button_tag "Add Item", type: 'button',class:"text-link mt-5", data: { action: "click->form#add_item", category:"NEW_CATEGORY" } %>
            </div>
          </div>
        </template>

        <div data-controller="tabs" data-tabs-active-tab="-mb-px border-l border-t border-r rounded-t" data-target="form.list_panels">
          <ul class="list-reset flex border-b" data-target="form.list_tabs">
            <%# <li class="-mb-px mr-1" data-target="tabs.tab" data-action="click->tabs#change">
              <a class="bg-white inline-block py-2 px-4 text-blue-500 hover:text-blue-700 font-semibold no-underline" href="#">Breakfast</a>
            </li> %>
          </ul>
        </div>
        <%= form.submit "Save QR Menu", class:"mt-24 cursor-pointer bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>
      </div>


      <!-- iphone area -->
      <div class="text-center flex justify-center p-10">
        <div class="iphone-x">
          <i>Speaker</i>
          <b>Camera</b>

          <!-- iphone: restaurant NAME and LOGO  -->
          <div class="flex flex-row pt-12 pl-3 items-center space-x-3">
            <%= image_tag("icons/photo.svg", width: "100px", height: "100px", class: "shadow p-1 rounded-full", data: { target: "form.logo_output" }) %>
            <div class="text-2xl" id="restaurant-name">Casa Alberto</div>
          </div>

          <!-- template - iphone: CATEGORY field  -->
          <template data-target="form.template_category_print">
            <div class="mt-3 text-lg" id="category-NEW_CATEGORY" >Lunch</div>
          </template>
          <div class="pl-5 flex space-x-2" data-target="form.categories"></div>
          <hr class="mt-5 border-gray-300 w-48 mx-auto" >

          <!-- template - iphone: MENU ITEM field  -->
          <template data-target="form.template_item_print">
            <div class="text-left text-xs pt-2 flex flex-row space-x-1" id="item-NEW_MENU_ITEM">
              <%= image_tag "icons/photo.svg", width: "80px", height: "80px", class: "w-1/4 px-2", id:"item-picture-NEW_MENU_ITEM" %>

              <div class="w-2/3">
                <div id="item-name-NEW_MENU_ITEM" >Healthy Bowl</div>
                <div class="font-thin" id="item-description-NEW_MENU_ITEM" >A description about food comes here...</div>
                <div id="item-price-NEW_MENU_ITEM">$5</div>
              </div>
            </div>
          </template>
          <div class="px-1 space-y-2" data-target="form.items"></div>

        </div>
      </div>
    </div>

  <% end %>
</div>
